(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1370)}])},2400:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5893),s=n(8193);function a(){return(0,r.jsxs)("div",{className:"flex flex-row p-2 h-[60px] justify-center items-center mt-[0px] text-xl md:text-3xl",children:[(0,r.jsx)("h1",{className:"align-botton text-white",children:"Carrefour"}),(0,r.jsx)("div",{className:"mx-[20px] text-red-400",children:(0,r.jsx)(s.YV5,{})}),(0,r.jsx)("h1",{className:" text-white",children:"Checklist"})]})}},1370:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(5893),s=n(7294),a=n(4051),c=n.n(a),o=n(8193);function i(e){var t=e.idStore,n=e.handleStore;return(0,r.jsx)("div",{className:"flex flex-rol h-[100px] justify-between p-4 w-[100%] border-b-2 text-white bg-blue-700",children:(0,r.jsx)("a",{className:"w-full cursor-pointer",onClick:function(){return n(t)},children:(0,r.jsx)("p",{className:"text-xl p-4 item-center",children:t})})})}function l(e,t,n,r,s,a,c){try{var o=e[a](c),i=o.value}catch(l){return void n(l)}o.done?t(i):Promise.resolve(i).then(r,s)}function u(e){e.open,e.onClose;var t=e.storeId,n=e.onStore,a=(0,s.useState)(""),u=a[0],x=a[1],d=(0,s.useState)([]),m=d[0],f=d[1],p=(0,s.useState)(0),h=p[0],j=p[1],v=(0,s.useState)(!1),b=v[0],N=v[1];(0,s.useEffect)((function(){var e=function(){var e,t=(e=c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://mercado.carrefour.com.br/api/checkout/pub/regions?country=BRA&postalCode=").concat(u));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,f(n[0].sellers),N(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("ocoreu um erro ao requisitar o cep");case 14:case 15:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){l(a,r,s,c,o,"next",e)}function o(e){l(a,r,s,c,o,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();h>1&&e()}),[h]);var w=function(e){n(e)};return""!=t?null:(0,r.jsx)("div",{className:"flex fixed top-0 left-0 justify-center items-center h-[100vh] w-[100vw] bg-[#0000ff22] ",children:(0,r.jsxs)("div",{className:"flex flex-col rounded-xl max-h-[60%] w-[80%] bg-white shadow-lg p-4",children:[(0,r.jsx)("h1",{className:"text-[#da251d] text-2xl text-center mb-6",children:"Encontre uma loja nas proximidades"}),(0,r.jsxs)("form",{onSubmit:function(e){j((function(e){return e+1})),j((function(e){return e+1})),N(!0),e.preventDefault()},className:"p-2 text-[#da251d] border-[#da251d] mb-6 border-2 flex justify-between",children:[(0,r.jsx)("input",{value:u,type:"number",onChange:function(e){return x(e.target.value)},className:"text-black w-full focus:outline-none",placeholder:"CEP apenas numeros"}),(0,r.jsx)("button",{children:(0,r.jsx)("span",{className:"text-2xl",children:(0,r.jsx)(o.RB5,{})})})]}),b&&(0,r.jsx)("h1",{className:"text-xl",children:"Carregando Lojas..."}),(0,r.jsx)("div",{className:"flex flex-col overflow-y-auto",children:m.map((function(e){return(0,r.jsx)(i,{handleStore:w,idStore:e.id},e.id)}))})]})})}var x=n(1664),d=n.n(x),m=n(3961);function f(e){var t=e.price,n=e.product,a=e.image,c=(0,s.useState)(!1),o=(c[0],c[1],(0,s.useState)(0)),i=o[0],l=o[1],u=(0,s.useState)(""),x=(u[0],u[1],(0,s.useContext)(m.A));x.cartItems,x.setCarItems;return(0,r.jsxs)("div",{className:" flex flex-col h-full rounded-sm p-2 justify-between border-[2px] border-[#ddd] ",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{className:"max-h-[175px]",src:a}),(0,r.jsx)("p",{className:"mb-[20px]",children:n})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-blue-700 p-1 font-bold mb-[10px]",children:["R$",t]}),(0,r.jsx)("div",{className:"flex flex-col w-full",children:0==i?(0,r.jsx)(p,{productName:n,price:t,image:a,on:function(){return l(1)}}):(0,r.jsx)(h,{setQuantidate:l,productName:n,image:a,price:t,quantity:i})})]})]})}var p=function(e){var t=e.on,n=e.productName,a=e.image,c=e.price,o=(0,s.useContext)(m.A).handleItem;return(0,r.jsx)("button",{type:"button",onClick:function(){o({productName:n,image:a,quantity:1,price:c}),t()},className:"bg-blue-700 h-[50px] p-2 text-white",children:"Adicionar"})},h=function(e){var t=e.quantity,n=e.image,a=e.setQuantidate,c=e.productName,o=e.price,i=(0,s.useContext)(m.A).handleItem;return(0,r.jsxs)("div",{className:"flex flex-rol border-2 border-blue-700 justify-between",children:[(0,r.jsx)("button",{className:"bg-blue-700 cursor-pointer w-[50px] text-4xl item-center text-center text-white h-[50px]",onClick:function(){a(t-1),i({productName:c,image:n,quantity:t-1,price:o})},children:"-"}),(0,r.jsx)("p",{className:"align-middle inline-block text-xl p-2",children:t}),(0,r.jsx)("button",{className:"bg-blue-700 cursor-pointer w-[50px] text-4xl item-center text-center text-white h-[50px]",onClick:function(){a(t+1),i({productName:c,image:n,quantity:t+1,price:o})},children:"+"})]})},j=n(2400);function v(e,t,n,r,s,a,c){try{var o=e[a](c),i=o.value}catch(l){return void n(l)}o.done?t(i):Promise.resolve(i).then(r,s)}function b(e){var t=e.store,n=e.openModal,a=(0,s.useState)([]),i=a[0],l=a[1],u=(0,s.useState)(""),x=u[0],m=u[1],p=(0,s.useState)(""),h=p[0],b=p[1],N=(0,s.useState)(!0),w=N[0],g=N[1];console.log("store in the search",t),(0,s.useEffect)((function(){var e=function(){var e,n=(e=c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://mercado.carrefour.com.br/api/catalog_system/pub/products/search?fq=").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,l(r),g(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case 15:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function c(e){v(a,r,s,c,o,"next",e)}function o(e){v(a,r,s,c,o,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();t&&e()}),[t]);return(0,r.jsxs)("div",{className:"flex flex-wrap w-[100%] justify-center ",children:[(0,r.jsxs)("nav",{className:"flex pt-[20px] sticky top-0 left-0 w-[100vw] drop-shadow-2xl flex-col items-center justify-center bg-blue-700 text-white w-full md:static",children:[(0,r.jsxs)("div",{className:"flex w-full justify-between mt-[0px] pr-3",children:[(0,r.jsx)("div",{className:"ml-[20px]",children:(0,r.jsx)(d(),{href:"./historico",children:(0,r.jsx)("a",{className:"text-3xl ",children:(0,r.jsx)(o.cjn,{})})})}),(0,r.jsx)("div",{className:"mr-[10px]",children:(0,r.jsx)(d(),{href:"./cart",children:(0,r.jsx)("a",{className:"text-3xl ",children:(0,r.jsx)(o.nxQ,{})})})})]}),(0,r.jsx)(j.Z,{}),(0,r.jsxs)("form",{onSubmit:function(e){m(h.toLowerCase()),e.preventDefault()},className:"p-2 w-[80%] text-white bg-white my-4 border-2 flex justify-between",children:[(0,r.jsx)("input",{value:h,onChange:function(e){return b(e.target.value)},className:"text-black w-[90%] m-auto focus:outline-none",placeholder:"Produto"}),(0,r.jsx)("button",{children:(0,r.jsx)("span",{className:"text-2xl text-blue-700",children:(0,r.jsx)(o.RB5,{})})})]}),(0,r.jsxs)("div",{className:"mb-4",children:["Loja ",t," ",(0,r.jsx)("button",{className:"text-red-400",onClick:n,children:" Mude de loja"})]})]}),w&&""!=t&&(0,r.jsx)("h1",{className:"text-xl",children:"Carregando Produtos..."}),i.map((function(e){var t=e.productName.toLowerCase(),n=new RegExp("".concat(x));return""==x||-1!=t.search(n)?(0,r.jsx)("div",{className:"w-[50%] h-[420px] sm:w-[33%] md:w-[20%] md:m-[20px]",children:(0,r.jsx)(f,{product:e.productName,image:e.items[0].images[0].imageUrl,price:e.items[0].sellers[0].commertialOffer.Installments[0].Value})},e.productName):(0,r.jsx)("div",{className:"hidden",children:(0,r.jsx)(f,{product:e.productName,image:e.items[0].images[0].imageUrl,price:e.items[0].sellers[0].commertialOffer.Installments[0].Value})},e.productName)}))]})}function N(){var e=(0,s.useState)(!0),t=e[0],n=e[1],a=(0,s.useState)(""),c=(a[0],a[1],(0,s.useContext)(m.A)),o=c.idStore,i=c.setIdStore,l=c.handleItems;return(0,s.useEffect)((function(){l([])}),[]),console.log("abriu o modal",t),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center ",children:[(0,r.jsx)(b,{openModal:function(){n(!0),i("")},store:o}),(0,r.jsx)(u,{open:t,storeId:o,onClose:function(){return n(!1)},onStore:i})]})}}},function(e){e.O(0,[617,949,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);